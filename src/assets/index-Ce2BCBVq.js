import{d as c,u as f,o as g,r as v,a as _,c as w,b as t,w as l,v as i,e as x,f as S,g as y,h as b,i as k,j as u,k as F}from"./index-BoIYWpSM.js";import{a as N,_ as V}from"./_plugin-vue_export-helper-BMctTixa.js";class h{static login(a){return N.post({url:"/sys/slogin",params:a})}}const C={class:"box"},I={class:"content"},U={class:"login-wrapper"},B={class:"login-form"},D={class:"username form-item"},J={class:"password form-item"},M=c({__name:"index",setup(d){const a=b(!1),r=f(),e=k({username:"",password:""}),p=async()=>{if(e.username==""&&e.password==""){u.warning("账号或密码不能为空");return}a.value=!0;try{const o=await h.login(e);o.success==!1?u.warning(o.message):(r.setUserInfo(o.result),r.setLoginStatus(!0),localStorage.setItem("ruleForm",JSON.stringify(e)),F.push("/video"))}catch{a.value=!0}};return g(()=>{const o=localStorage.getItem("ruleForm");if(o){const s=JSON.parse(o);e.username=s.username,e.password=s.password}}),(o,s)=>{const m=v("a-button");return _(),w("div",C,[t("div",I,[t("div",U,[s[5]||(s[5]=t("h1",null,"登录",-1)),t("div",B,[t("div",D,[s[2]||(s[2]=t("span",null,"账号",-1)),l(t("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>e.username=n),type:"text",class:"input-item",placeholder:"输入账号"},null,512),[[i,e.username]])]),t("div",J,[s[3]||(s[3]=t("span",null,"密码",-1)),l(t("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>e.password=n),type:"password",class:"input-item",placeholder:"输入密码"},null,512),[[i,e.password]])]),x(m,{onClick:p,loading:a.value,type:"primary",class:"login-btn",block:""},{default:S(()=>[...s[4]||(s[4]=[y("登 录",-1)])]),_:1},8,["loading"])])])])])}}}),j=V(M,[["__scopeId","data-v-e3e28ea6"]]);export{j as default};
